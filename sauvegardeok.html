<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
    <script src="https://unpkg.com/vue-chartjs/dist/vue-chartjs.min.js"></script>
</head>
<body>
<div class="app">
    <div style='max-width:400px; max-height:400px;'>
        <line-chart :chart-data="dataChart" :options="opt"></line-chart>
    </div>
    <input v-model.lazy="revenue_locatif"/> <br>
    <input v-model.lazy="revenue_locatif" type="range" min="0" max="100"  />
<br>
    <input v-model.lazy="charge_non_recuperable"/> <br>
<br>


</div>



<script>
    Vue.component('line-chart', {
        extends: VueChartJs.Bar,
        mixins: [VueChartJs.mixins.reactiveProp],
        props: ['options'],

        mounted () {
            this.renderChart(this.chartData, this.options)
        },
    })

    var vm = new Vue({
        el: '.app',
        data: function() {
            return ({
                revenue_locatif:'98',
                charge_non_recuperable : '76',
                opt: {

                    responsive: true,
                    title: {
                        display: true,
                        text: 'Simulateur '
                    },
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                },

            });
        },
        computed: {
            dataChart: function() {
                var data1 = [this.revenue_locatif];
                var data2 = [this.charge_non_recuperable]

                return ({
                    labels:["Revenu locatif","charge non récupérable"],

                    datasets: [ {
                        label: ["Revenu locatif"],
                        backgroundColor: ["#8e5ea2"],
                        data: data1,
                    },{

                        label: ["charge non récupérable"],
                        backgroundColor: ["#3e95cd"],
                        data: data2,
                    }]
                });
            }
        },



    })
</script>
</body>
</html>
